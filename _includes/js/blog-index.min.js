!function(){"use strict";function e(){function e(e){var t=document.querySelectorAll(e);return Array.prototype.slice.call(t)}function t(e){e.classList.remove("sidebar-filter-active")}function r(e){e.innerHTML=this.response||this.responseText}function a(r){var a=r.getAttribute("data-filter-section");if(a){var i=document.querySelector(".sidebar-filter-section.open");i&&i.classList.remove("open"),document.querySelector("."+a).classList.add("open");var n=l.querySelector("b");n&&(n.outerHTML=n.outerHTML.replace(/<b/,"<a").replace(/<\/b/,"</a")),r.outerHTML=r.outerHTML.replace(/<a/,"<b").replace(/<\/a/,"</b"),n=e(".sidebar-filter-active"),n.forEach(t),o.innerHTML="","js-search-section"===a?document.querySelector("#sidebar-search").focus():document.querySelector("#sidebar-search").blur()}}function i(e){e.preventDefault();var t=document.querySelector("#sidebar-search");if("value"in t){var r=t.value.trim().toLowerCase(),a=r.match(/(".*?"|[\w']*)/g).map(function(e){return e=e.replace(/"/g,""),2<e.length?'[data-fulltext*="'+e+'"]':""}),i=a.join("");i?o.innerHTML=".filter-minilisting-item"+i+" { display: block; counter-increment: results; }":o.innerHTML=""}}var n=e(".js-posts-minilist");if(n.length){var s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.href="/css/blog-index-sidebar.min.css",document.head.appendChild(s);var c=new XMLHttpRequest;c.open("GET","/posts-data/",!0),c.onreadystatechange=function(){4===this.readyState&&200<=this.status&&400>this.status&&(console.dir(this),n.forEach(r,this))},c.send(),c=null;var o=document.createElement("style");document.body.appendChild(o);var l=document.querySelector(".js-filter-switcher");window.matchMedia("(min-width: 940px)").matches&&a(document.querySelector(".js-languages-filter")),l.addEventListener("click",function(e){for(var t=e.target;"A"!==t.tagName&&"BODY"!==t.tagName;)t=t.parentNode;a(t)});var d=document.querySelector(".languages-listing");d.addEventListener("click",function(r){for(var a=r.target;"A"!==a.tagName&&"BODY"!==a.tagName;)a=a.parentNode;var i=a.getAttribute("data-language");if(i){o.innerHTML='.filter-minilisting-item[data-languages*="|'+i+'|"] { display: block; counter-increment: results; }';var n=e(".sidebar-filter-active");n.forEach(t),a.classList.add("sidebar-filter-active")}});var u=document.querySelector(".formats-listing");u.addEventListener("click",function(r){for(var a=r.target;"A"!==a.tagName&&"BODY"!==a.tagName;)a=a.parentNode;var i=a.getAttribute("data-format");if(i){o.innerHTML='.filter-minilisting-item[data-format="'+i+'"] { display: block; counter-increment: results; }';var n=e(".sidebar-filter-active");n.forEach(t),a.classList.add("sidebar-filter-active")}});var m=e(".search-form");m.forEach(function(e){e.addEventListener("submit",i)}),document.querySelector("#sidebar-search").addEventListener("input",i)}}"addEventListener"in window&&"querySelector"in document&&("loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e))}();