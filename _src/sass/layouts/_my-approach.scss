/**
 * My Approach page styling
 *
 * @version 1.0.0
 * @package cjbarnes.github.io
 */

/*
 * My Approach listing (timeline of steps).
 * 1. Use CSS counter for numbering of the steps in the timeline.
 */
.page-my-approach {
    counter-reset: steps; /* 1 */

    /* Item container. */
    .step {
        background: $background-color-content;
        counter-increment: steps;

        /* The number (displayed like an icon). */
        &:before {
            @include font-size("huger");
            content: counter(steps);
            font-family: $font-family-brand;
            color: $background-color-content;
        }

    }

    /* Header area - leave space for icon. */
    .step-header {
        min-height: (100px + $line-px);
        padding-left: 100px;
    }

    /* Item graphics. */
    .step-icon {
        position: absolute;
        top: $gutter;
        left: $gutter;
        float: left;
        display: block;
        width: 100px;
        height: 100px;
        line-height: 1;
    }

    /* Main text. */
    .step-content {
        @include rem("padding-bottom", ($line * 2));
    }

    /* 'What you get' footer. */
    .step-footer {
        @include rem("min-height", $line);
        @include rem("padding-top", ($line / 2));
        @include rem("padding-bottom", ($line / 2));
        font-family: $font-family-content;
        text-align: left;

        /*
         * Footer title.
         * 1. Fallback for IE8 positioning (no `calc` support).
         * 2. Get rid of standard heading margins.
         */
        h3 {
            @include rem("left", 0);
            @include push;
            @include pull;
            @include font-size-leading("large");
            position: absolute;
            bottom: 100%; /* 1 */
            bottom: calc(100% + (#{$line} / 4)); /* 1 */
            margin-top: 0; /* 2 */
            margin-bottom: 0; /* 2 */
        }

        /* 'What you get' list. */
        ul {
            @include rem("margin", 0 ($line * 2));
        }

        /* 'What you get' list container. */
        li {
            @include rem("margin-top", ($line * 0.25));
            @include font-size-leading("small");
            margin-bottom: 0;
            list-style: circle;

            &:first-child {
                margin-top: 0;
            }

        }

    }


    /**
     * Arrows between steps.
     */

    /*
     * Arrowhead.
     * 1. Horizontal centring.
     * 2. Arrowhead base starts here.
     * 3. CSS arrowheads trick.
     */
    .step:after {
        content: '';
        position: absolute;
        top: 100%;
        left: 50%; /* 1 */
        display: block;
        width: 0;
        height: 0;
        margin-top: $listing-arrow-shaft-length; /* 2 */
        margin-left: ($listing-arrowhead-size * -1); /* 1 */
        border-top: ($listing-arrowhead-size * 0.75) solid $color-step; /* 3 */
        border-left:  $listing-arrowhead-size solid transparent; /* 3 */
        border-right: $listing-arrowhead-size solid transparent; /* 3 */
    }

    /*
     * Arrow shaft.
     * 1. Horizontal centring.
     */
    .step-footer:after {
        content: '';
        position: absolute;
        top: 100%;
        left: 50%; /* 1 */
        display: block;
        width: $listing-arrow-shaft-thickness;
        height: $listing-arrow-shaft-length;
        margin-left: (($listing-arrow-shaft-thickness / 2) * -1);
        background: $color-step;
    }

    /* Hide arrow for last step, and don't leave space for it. */
    .step-support {
        margin-bottom: 0;

        &:after,
        .step-footer:after {
            display: none;
        }

    }

} //.page-my-approach
