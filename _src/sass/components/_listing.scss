/**
 * Lists of articles and other data structures
 *
 * @version 1.0.0
 * @package cjbarnes.github.io
 */


/* All content columns are full width for mobile. */
.listing {
    @include rem("margin", 0 0 $line);

    /* Listing title - used for My Approach page. */
    > h2 {
        @include rem("margin", 0 0 ($line * 2));
        text-align: center;
        color: $text-color-listing-headings;
    }

}

/*
 * Listing items.
 * 1. Icon placement and style.
 */
.listing-item {
    @include rem("margin-bottom", ($line * 2));
    @include circle-box($background-color); /* 1 */

    /* Icon colours and fonts.. */
    &:before {
        font-family: $font-family-icons;
        color: $background-color;
    }

    /* Loop through icons themselves. */
    @each $format, $icon in $format-icons {
        &.post-#{$format}:before {
            content: "#{$icon}";
        }
    }

    /* No icon for illustrated articles in full-size listings. */
    &.post-illustrated:before,
    &.page:before {
        display: none;
    }

    .content {
        background: $background-color-content;
    }

    /* Quote post custom styling. */
    &.post-quote {

        figure.quote {
            margin-bottom: 0;
            padding: 0;
            background-color: transparent;
        }

    }

    /* Link post custom styling. */
    &.post-link {

        /* Make direct link box flush with footer top. */
        .content {
            padding-bottom: 0;
        }

    }

    /* Illustrated post custom styling. */
    &.post-illustrated {

        &,
        .post-footer {
            background: $background-color-illustrated;
        }

        /* Dark footer - unique to illustrated posts. */
        .post-footer {

            .post-footer-permalink {
                color: $text-color-reversed;
            }

        }

    }

} //.listing-item

.read-more {
    font-family: $font-family-brand;
}

/*
 * Blog/index listing.
 */

/* Bottom spacing for footer-less illustrated items. */
.page-illustrated .index-listing-header {
    padding-bottom: $line;

    .title-summary {
        margin-bottom: 0;
    }

}

/* Title of the listing area. */
.index-listing-heading {
    color: $text-color-listing-headings;
}

/* Content area. */
.index-listing-content {
    @include rem("padding-bottom", $line);
    font-family: $font-family-content;

    // More top spacing when there is no header area for this post.
    &:first-child {
        @include rem("padding-top", $line);
    }

    // Remove excess heading margins.
    h1,
    h2,
    h3,
    h4 {
        @include rem("margin-top", $line);
    }

    h1 {
        @include rem("margin-bottom", $line);
    }

}


/**
 * Media query.
 *
 * Wide enough for two-column layout.
 */
@include media-width("two-columns") {

    /* Leave room for the sidebar column next to the listing column. */
    .blog-listing {
        @include column(8);
        @include push(0);
        @include pull(0);
    }


    /**
     * Post contents in blog and index listings. Space out and align with
     * title/footer.
     */
    .index-listing-content {

        p,
        h1,
        h2,
        h3,
        h4 {
            @include push;
            @include pull;
        }

        /*
         * Matching margins for the main blockquote of a quote post.
         */
        .post-quote & blockquote {
            @include rem("margin", $line 0);
        }

    }

} //include media-width(two-columns)


/**
 * Media query.
 *
 * Greater white space between the main content and sidebar.
 */
@include media-width("more-column-spacing") {

    /* The sidebar is now one less column, so we leave an extra space. */
    .blog-listing {
        @include push(1);
    }

} //include media-width(more-column-spacing)
